# Copyright 2014 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

# Floating point formats.

# %f and %F

)format "%f"
1 1e25 4/3 ((sqrt 2) j (sqrt 3))
	1.000000 10000000000000000000000000.000000 1.333333 1.414214j1.732051

)format "%F"
-1 -1e25 -4/3 1j2  # Note: BigFloat does not understand %F.
	-1.000000 -10000000000000000000000000.000000 -1.333333 1.000000j2.000000

)format "%.2f"
1 1e25 4/3 ((sqrt 2) j (sqrt 3))
	1.00 10000000000000000000000000.00 1.33 1.41j1.73

)format "%.0f"
1 1e25 4/3 ((sqrt 2) j (sqrt 3))
	1 10000000000000000000000000 1 1j2

# %e and %E

)format "%.1e"
1 100 1000 1000000 -123456 ((sqrt 2) j (sqrt 3))
	1.0e+00 1.0e+02 1.0e+03 1.0e+06 -1.2e+05 1.4e+00j1.7e+00

)format "%.1E"
1 100 1000 1000000 -123456 ((sqrt 2) j (sqrt 3))
	1.0E+00 1.0E+02 1.0E+03 1.0E+06 -1.2E+05 1.4E+00j1.7E+00

)format "%.9e"
1 100 1000 1000000 -123456 ((sqrt 2) j (sqrt 3))
	1.000000000e+00 1.000000000e+02 1.000000000e+03 1.000000000e+06 -1.234560000e+05 1.414213562e+00j1.732050808e+00

)format "%.0e"
1 100 1000 1000000 -123456 ((sqrt 2) j (sqrt 3))
	1e+00 1e+02 1e+03 1e+06 -1e+05 1e+00j2e+00

)format "%.1e"
123456e100 -123456e100 ((sqrt 2) j (sqrt 3))
	1.2e+105 -1.2e+105 1.4e+00j1.7e+00

)format "%.9e"
123456e100 -123456e100 ((sqrt 2) j (sqrt 3))
	1.234560000e+105 -1.234560000e+105 1.414213562e+00j1.732050808e+00

)format "%.0e"
123456e100 -123456e100 ((sqrt 2) j (sqrt 3))
	1e+105 -1e+105 1e+00j2e+00

# Rationals with %e.

)format "%.1e"
1/3 -1/3 1/3000 10000/3 1/3j2/3
	3.3e-01 -3.3e-01 3.3e-04 3.3e+03 3.3e-01j6.6e-01

)format "%.0e"
1/100 1/3 -1/3 1/3000 10000/3 1/3j2/3
	1e-02 3e-01 -3e-01 3e-04 3e+03 3e-01j6e-01

)format "%.3e"
1/100 1/3 -1/3 1/3000 10000/3 1/3j2/3
	1.000e-02 3.333e-01 -3.333e-01 3.333e-04 3.333e+03 3.333e-01j6.666e-01

)format "%.9e"
1/3 -1/3 1/3000 10000/3 1/3j2/3
	3.333333333e-01 -3.333333333e-01 3.333333333e-04 3.333333333e+03 3.333333333e-01j6.666666666e-01


# %g and %G

)format "%.1g"
1 12 -123 1234 12345 123456 1234567 12345678 123j456
	1 1e+01 -1e+02 1e+03 1e+04 1e+05 1e+06 1e+07 1e+02j4e+02

)format "%.3g"
1 12 -123 1234 12345 123456 1234567 12345678 123j456
	1 12 -123 1.23e+03 1.23e+04 1.23e+05 1.23e+06 1.23e+07 123j456

)format "%.6G"
# TODO: rounding is wrong
1 12 -123 1234 12345 123456 1234567 12345678 123j456
	1 12 -123 1234 12345 123456 1.23456E+06 1.23456E+07 123j456

)format "%.9g"
1 12 -123 1234 12345 123456 1234567 12345678 123j456
	1 12 -123 1234 12345 123456 1234567 12345678 123j456

)format "%.1g"
1e20 1.2e20 -1.23e20 1.234e20 1.2345e20 1.23456e20 1.234567e20 1.2345678e20 123e20j456e20
	1e+20 1e+20 -1e+20 1e+20 1e+20 1e+20 1e+20 1e+20 1e+22j4e+22

)format "%.3g"
1e20 1.2e20 -1.23e20 1.234e20 1.2345e20 1.23456e20 1.234567e20 1.2345678e20 123e20j456e20
	1e+20 1.2e+20 -1.23e+20 1.23e+20 1.23e+20 1.23e+20 1.23e+20 1.23e+20 1.23e+22j4.56e+22


)format "%.6g"
# TODO: rounding is wrong
1e20 -1.2e20 1.23e20 1.234e20 1.2345e20 1.23456e20 1.234567e20 1.2345678e20 123e20j456e20
	1e+20 -1.2e+20 1.23e+20 1.234e+20 1.2345e+20 1.23456e+20 1.23456e+20 1.23456e+20 1.23e+22j4.56e+22

)format "%.9g"
1e20 -1.2e20 1.23e20 1.234e20 1.2345e20 1.23456e20 1.234567e20 1.2345678e20 123e20j456e20
	1e+20 -1.2e+20 1.23e+20 1.234e+20 1.2345e+20 1.23456e+20 1.234567e+20 1.2345678e+20 1.23e+22j4.56e+22

)format "%.20g"
12345678901234567890 -123456789012345678901 1234567890123456789012 123e20j456e20
	12345678901234567890 -1.234567890123456789e+20 1.234567890123456789e+21 1.23e+22j4.56e+22

)format "%.1g"
1/3 1/30 -1/300 1/3000 1/30000 1/3j2/3
	0.3 0.03 -0.003 0.0003 3e-05 0.3j0.7

)format "%.1G"
4/3 40/3 -400/3 4000/3 1/3j2/3
	1 1E+01 -1E+02 1E+03 0.3j0.7

)format "%.6g"
1/3 1/30 -1/300 1/3000 1/30000 1/3j2/3
	0.333333 0.0333333 -0.00333333 0.000333333 3.33333e-05 0.333333j0.666667

)format "%.6g"
4/3 40/3 -400/3 4000/3 1/3j2/3
	1.33333 13.3333 -133.333 1333.33 0.333333j0.666667

)format "%.9g"
1/3 1/30 -1/300 1/3000 1/30000 1/3j2/3
	0.333333333 0.0333333333 -0.00333333333 0.000333333333 3.33333333e-05 0.333333333j0.666666667

)format "%.9g"
4/3 40/3 -400/3 4000/3 1/3j2/3
	1.33333333 13.3333333 -133.333333 1333.33333 0.333333333j0.666666667

# Trailing zeros and decimals (%g/%G only)

# Fractional form.
)format "%.20g"
1 2 3 1/2 1/4 1/8 1e10
	1 2 3 0.5 0.25 0.125 10000000000

# Exponential form
)format "%g"
1e10
	1e+10

# Verify that )specials always use base 10.
)base 3
)base 10
1<<9
	512

# Big integers print as float. Configurable by )maxdigits.
)maxdigits 10
1e100
	1e+100

# Issue 225: correct value for values > 0.5Ã—2^10000 (fastFloatPrint).
# Set prec 256, just in case the default changes
)prec 256
# Print with full precision
)format "%.77g"
float 1<<11000
	2.1377273016175946639947418801095121966854178364444088402247933779652136564166e+3311

# Ivy-source-style formatting
"ivy" text ()
	()

"ivy" text 'a'
	'a'

"ivy" text '\x10'
	'\x10'

"ivy" text "abc\n"
	"abc\n"

# Maximum precision regardless of usual printing format.
pi
"ivy" text pi
	3.14159265359
	3.1415926535897932384626433832795028841971693993751058209749445923078164062862

"ivy" text 2 2 rho iota 4
	2 2 rho 1 2 3 4

"ivy" text 2 2 rho box (2 2 rho "abcd")
	2 2 rho (2 2 rho "abcd") (2 2 rho "abcd") (2 2 rho "abcd") (2 2 rho "abcd")
